<div class="auth-container">
  <div class="brand-panel">
    <div class="brand-content">
      <div class="logo-area">
        <h1>CivicPulse <span>Hub</span></h1>
        <p class="tagline">Unified Smart City Feedback & Redressal System</p>
      </div>

      <div class="info-cards">
        <div class="info-item">
          <span class="icon">üì¢</span>
          <div class="text">
            <h3>Report Issues</h3>
            <p>Spot a problem? Report potholes, sanitation, or utility issues instantly.</p>
          </div>
        </div>
        
        <div class="info-item">
          <span class="icon">üöÄ</span>
          <div class="text">
            <h3>Track Progress</h3>
            <p>Get real-time updates as city officers resolve your grievances.</p>
          </div>
        </div>

        <div class="info-item">
          <span class="icon">ü§ù</span>
          <div class="text">
            <h3>Community Impact</h3>
            <p>Your feedback directly contributes to a cleaner, safer smart city.</p>
          </div>
        </div>
      </div>

      <div class="footer-note">
        <p>&copy; 2025 CivicPulse Initiative</p>
      </div>
    </div>
  </div>

  <div class="form-panel">
    <div class="form-wrapper">
      
      <div class="success-message" *ngIf="successMessage">
        {{ successMessage }}
      </div>
      <div class="error-message" *ngIf="errorMessage">
        {{ errorMessage }}
      </div>

      <div class="auth-box" *ngIf="viewState === 'LOGIN'">
        <div class="header">
          <h2>Welcome Back</h2>
          <p>Please enter your details to sign in.</p>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="submitLogin()">
          <label>Email Address</label>
          <input type="email" formControlName="email" placeholder="citizen@example.com" />

          <label>Password</label>
          <input type="password" formControlName="password" placeholder="Password" />
          
          <div class="forgot-link-wrapper">
            <a (click)="switchToForgotPassword()" class="forgot-link">Forgot Password?</a>
          </div>

          <button type="submit" class="primary-btn">Sign In</button>
        </form>

        <div class="switch-text">
          <p>New to CivicPulse? <a (click)="switchToRegister()">Create an account</a></p>
        </div>
      </div>

      <div class="auth-box" *ngIf="viewState === 'REGISTER'">
        <div class="header">
          <h2>Join the Community</h2>
          <p>Start making a difference today.</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="submitRegister()">
          <label>Full Name</label>
          <input type="text" formControlName="fullName" placeholder="John Doe" />

          <label>Email Address</label>
          <input type="email" formControlName="email" placeholder="citizen@example.com" />

          <label>Password</label>
          <input type="password" formControlName="password" placeholder="Create a password" />

          <label>I am a...</label>
          <select formControlName="role">
            <option value="CITIZEN">Citizen (Report Issues)</option>
            <option value="OFFICER">Officer (Resolve Issues)</option>
          </select>

          <button type="submit" class="primary-btn" (click)="submitRegister()">Sign Up</button>
        </form>

        <div class="switch-text">
          <p>Already have an account? <a (click)="switchToLogin()">Sign in here</a></p>
        </div>
      </div>

      <div class="auth-box" *ngIf="viewState === 'FORGOT'">
        <div class="header">
          <h2>Reset Password</h2>
          <p>Enter your email to receive a reset link.</p>
        </div>

        <form [formGroup]="forgotPasswordForm" (ngSubmit)="submitForgotPassword()">
          <label>Email Address</label>
          <input type="email" formControlName="email" placeholder="citizen@example.com" />

          <button type="submit" class="primary-btn">Send Reset Link</button>
        </form>

        <div class="switch-text">
          <p>Remembered your password? <a (click)="switchToLogin()">Back to Login</a></p>
        </div>
      </div>

    </div>
  </div>
</div>

